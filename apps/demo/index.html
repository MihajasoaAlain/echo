<!DOCTYPE html>
<html>
<head>
    <title>Test NotifBridge</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-10">
    <h1 class="text-2xl font-bold mb-5">Récepteur de Notifications</h1>
    <div id="status" class="mb-5 text-yellow-500">Déconnecté...</div>
    <div id="container" class="space-y-3"></div>

    <script>
        // On simule le comportement de ton SDK
        const userId = "user_test_999";
        const socket = io("http://localhost:3000", {
            query: { userId: userId }
        });

        socket.on("connect", () => {
            document.getElementById('status').innerText = "✅ Connecté en tant que : " + userId;
            document.getElementById('status').className = "text-green-500 mb-5";
        });

        socket.on("notification", (data) => {
            const div = document.createElement('div');
            div.className = "p-4 bg-slate-800 border-l-4 border-blue-500 rounded shadow-lg animate-bounce";
            div.innerHTML = `<h3 class="font-bold text-blue-400">${data.title}</h3><p>${data.message}</p>`;
            document.getElementById('container').prepend(div);
        });
    </script>
</body>
</html>